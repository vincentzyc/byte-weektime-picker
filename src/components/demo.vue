<template>
  <div class="demo-wrapper">
    <div class="demo">
      <h1 class="title">时段选择器</h1>
      <byte-weektime-picker v-model="byteTime" />
      <p class="value">绑定值：{{byteTime}}</p>
    </div>
    <div class="btn-wrap">
      <button class="btn" @click="countDown()">welcome</button>
      <button class="btn" :disabled="btnDisable" @click="reset()">reset</button>
    </div>
  </div>
</template>

<script>
// 组件内局部引用
import { ByteWeektimePicker } from '../index'

const words = {
  zyc: "000011111111100011000000000011000111111111100000000000000111100000110000001100000111000000000000000000001110000000001100110000000111000000000000000000011100000000000011000000000111000000000000000000111000000000000011000000000111000000000000000011110000000000000011000000000111000000000000000011111111100000000011000000000111111111100000",
  num5: "000000000000000011111111111111110000000000000000000000000000000011000000000000000000000000000000000000000000000011000000000000000000000000000000000000000000000011111111111111110000000000000000000000000000000000000000000000110000000000000000000000000000000000000000000000110000000000000000000000000000000011111111111111110000000000000000",
  num4: "000000000000000001100000000110000000000000000000000000000000000001100000000110000000000000000000000000000000000001100000000110000000000000000000000000000000000001111111111110000000000000000000000000000000000000000000000110000000000000000000000000000000000000000000000110000000000000000000000000000000000000000000000110000000000000000000",
  num3: "000000000000000011111111111111110000000000000000000000000000000000000000000000110000000000000000000000000000000000000000000000110000000000000000000000000000000000111111111111110000000000000000000000000000000000000000000000110000000000000000000000000000000000000000000000110000000000000000000000000000000011111111111111110000000000000000",
  num2: "000000000000000011111111111111110000000000000000000000000000000000000000000000110000000000000000000000000000000000000000000000110000000000000000000000000000000011111111111111110000000000000000000000000000000011000000000000000000000000000000000000000000000011000000000000000000000000000000000000000000000011111111111111110000000000000000",
  num1: "000000000000000000000111110000000000000000000000000000000000000000001101110000000000000000000000000000000000000000000001110000000000000000000000000000000000000000000001110000000000000000000000000000000000000000000001110000000000000000000000000000000000000000000001110000000000000000000000000000000000000000011111111110000000000000000000",
  num0:"000000000000000000111111111111000000000000000000000000000000000000111000000111000000000000000000000000000000000000111000000111000000000000000000000000000000000000111000000111000000000000000000000000000000000000111000000111000000000000000000000000000000000000111000000111000000000000000000000000000000000000111111111111000000000000000000",
  welcome: "010000010111110100000111110111111011000110111110010000010100000100000100000100001010101010100000010000010100000100000100000100001010010010100000010010010111110100000100000100001010010010111110010010010100000100000100000100001010000010100000010101010100000100000100000100001010000010100000011000110111110111110111110111111010000010111110",
  welcome1: "010000010000000000000000000000000000000000000000010000010000000000000000000000000000000000000000010000010000000000000000000000000000000000000000010010010000000000000000000000000000000000000000010010010000000000000000000000000000000000000000010101010000000000000000000000000000000000000000011000110000000000000000000000000000000000000000",
  welcome2: "010000010111110000000000000000000000000000000000010000010100000000000000000000000000000000000000010000010100000000000000000000000000000000000000010010010111110000000000000000000000000000000000010010010100000000000000000000000000000000000000010101010100000000000000000000000000000000000000011000110111110000000000000000000000000000000000",
  welcome3: "010000010111110100000000000000000000000000000000010000010100000100000000000000000000000000000000010000010100000100000000000000000000000000000000010010010111110100000000000000000000000000000000010010010100000100000000000000000000000000000000010101010100000100000000000000000000000000000000011000110111110111110000000000000000000000000000",
  welcome4: "010000010111110100000111110000000000000000000000010000010100000100000100000000000000000000000000010000010100000100000100000000000000000000000000010010010111110100000100000000000000000000000000010010010100000100000100000000000000000000000000010101010100000100000100000000000000000000000000011000110111110111110111110000000000000000000000",
  welcome5: "010000010111110100000111110111111000000000000000010000010100000100000100000100001000000000000000010000010100000100000100000100001000000000000000010010010111110100000100000100001000000000000000010010010100000100000100000100001000000000000000010101010100000100000100000100001000000000000000011000110111110111110111110111111000000000000000",
  welcome6: "010000010111110100000111110111111011000110000000010000010100000100000100000100001010101010000000010000010100000100000100000100001010010010000000010010010111110100000100000100001010010010000000010010010100000100000100000100001010000010000000010101010100000100000100000100001010000010000000011000110111110111110111110111111010000010000000",
  welcome7: "010000010111110100000111110111111011000110111110010000010100000100000100000100001010101010100000010000010100000100000100000100001010010010100000010010010111110100000100000100001010010010111110010010010100000100000100000100001010000010100000010101010100000100000100000100001010000010100000011000110111110111110111110111111010000010111110"
}



export default {
  name: 'demo',
  components: {
    ByteWeektimePicker
  },
  data() {
    return {
      byteTime: words.zyc,
      second: 5,
      timer: null,
      time: 1000,
      btnDisable: true
    }
  },
  methods: {
    countDown() {
      this.timer = setInterval(() => {
        this.byteTime = words['num' + this.second];
        if (this.second > 0) {
          this.second--;
        } else {
          clearInterval(this.timer);
          this.welcome()
        }
      }, 1000)
    },
    welcome() {
      this.second = 1;
      this.timer = setInterval(() => {
        if (this.second > 7) {
          this.btnDisable = false;
          this.byteTime = this.second % 2 === 1 ? words.welcome : "";
        } else {
          this.byteTime = words['welcome' + this.second];
        }
        this.second++;
      }, 1000)
    },
    reset() {
      clearInterval(this.timer);
      this.second = 5;
      this.byteTime = "";
      this.btnDisable = true;
    }
  }
}
</script>

<style>
::-webkit-scrollbar {
  display: none;
}
.demo-wrapper {
  position: relative;
}
.demo-wrapper .demo {
  color: #2c3e50;
  margin: 60px auto;
  width: 660px;
}
.demo-wrapper .demo .title {
  text-align: center;
  margin-bottom: 30px;
}
.demo-wrapper .demo .value {
  word-wrap: break-word;
  margin-top: 30px;
  line-height: 24px;
}
.demo-wrapper .btn-wrap {
  position: fixed;
  top: 20px;
  right: 20px;
}
.demo-wrapper .btn {
  border: 0;
  outline: 0;
  background-color: rgb(82, 121, 238);
  margin-right: 10px;
  padding: 10px;
  border-radius: 10px;
  color: #fff;
}
.demo-wrapper .btn:active {
  opacity: 0.7;
}
.demo-wrapper .btn:disabled {
  opacity: 0.5;
}
</style>
